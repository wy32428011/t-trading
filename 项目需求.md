# 项目内容
帮我创建一个项目，大致内容技术python+langchain调用大模型，获取A股每个股票的历史数据，结合158因子，做一个T+1股票选股的程序,需要输出的内容为：
股票代码、股票名称、建议、推荐原因、动作（买/卖/保持）、预测价格（T+1）、预测买入价格（T+1）、预测卖出价格（T+1）
# python 环境管理使用uv 版本使用3.12.11
# 数据库
数据库使用mysql引擎
- 数据库IP地址：192.168.60.140；
- 数据库端口：9030；
- 用户名：root
- 数据库名称：stock
数据库只做数据库查询，不进行数据写入
- 表结构：
- - 1. 股票历史数据表（stock_daily）：用来获取股票历史数据
    date        date        not null comment '交易日期',
    code        varchar(20) not null comment '股票代码，例如 000010',
    open        double      null comment '开盘价',
    high        double      null comment '最高价',
    low         double      null comment '最低价',
    close       double      null comment '收盘价',
    preclose    double      null comment '前收盘价',
    volume      bigint      null comment '成交量（股）',
    amount      double      null comment '成交额（元）',
    adjustflag  tinyint     null comment '复权状态：1 不复权，2 前复权，3 后复权',
    turn        double      null comment '换手率(%)',
    tradestatus tinyint     null comment '交易状态：1 正常交易，0 停牌',
    pctChg      double      null comment '涨跌幅(%)',
    peTTM       double      null comment '市盈率TTM',
    pbMRQ       double      null comment '市净率MRQ',
    psTTM       double      null comment '市销率TTM',
    pcfNcfTTM   double      null comment '市现率TTM',
    isST        tinyint(1)  null comment '是否ST股票',
    update_time datetime    null comment '更新日期'
- - 2. 股票基础表（stock_info）：用来获取股票基本信息和数据
    code            varchar(50)  not null comment '股票代码',
    name            varchar(300) not null comment '股票名称',
    total_equity    double       null comment '总股本（万股）',
    liquidity       double       null comment '流通股本（万股）',
    total_value     double       null comment '总市值（万元）',
    liquidity_value double       null comment '流通市值（万元）',
    sector          varchar(300) null comment '所属行业',
    ipo_date        varchar(20)  not null comment '上市日期',
    update_time     datetime     null comment '更新时间',
    full_code       varchar(20)  null comment '完整代码',
    exchange_code   varchar(20)  null comment '交易所编码'
# 股票实时数据：
通过使用https://qt.gtimg.cn/q={code}来获取
返回数据：
v_sz000858="51~五粮液~000858~27.78~27.60~27.70~417909~190109~227800~27.78~492~27.77~332~27.76~202~27.75~334~27.74~291~27.79~305~27.80~570~27.81~269~27.82~448~27.83~127~15:00:13/27.78/4365/S/12124331/24602|14:56:55/27.80/14/S/38932/24395|14:56:52/27.81/116/B/322585/24392|14:56:49/27.80/131/S/364220/24385|14:56:46/27.81/5/B/13905/24381|14:56:43/27.80/31/B/86199/24375~20121221150355~0.18~0.65~28.11~27.55~27.80/413544/1151265041~417909~116339~1.10~10.14~~28.11~27.55~2.03~1054.39~1054.52~3.64~30.36~24.84~";

以 ~ 分割字符串中内容，下标从0开始，参数依次为
0: 未知
1: 名字
2: 代码
3: 当前价格
4: 昨收
5: 今开
6: 成交量（手）
7: 外盘
8: 内盘
9: 买一
10: 买一量（手）
11-18: 买二 买五
19: 卖一
20: 卖一量
21-28: 卖二 卖五
29: 最近逐笔成交
30: 时间
31: 涨跌
32: 涨跌%
33: 最高
34: 最低
35: 价格/成交量（手）/成交额
36: 成交量（手）
37: 成交额（万）
38: 换手率
39: 市盈率
40:
41: 最高
42: 最低
43: 振幅
44: 流通市值
45: 总市值
46: 市净率
47: 涨停价
48: 跌停价	

# 大模型规则（使用langchain+langgraph调用大模型）：
- 多角色分析：基本面分析师、技术指标分析师、股市交易员
1. 大模型使用的是本地部署：base_url: http://192.168.60.172:9090/v1, model: Qwen3-235B-A22B-Instruct-2507,api_key: test_qwen
2. 大模型的输入是股票的历史数据和158因子，输出是股票的选股建议；
3. 大模型的建议是基于T+1的，即建议在T+1天进行交易；
4. 大模型的建议是基于158因子的，即建议根据158因子进行选股；
5. 大模型的建议是基于历史数据的，即建议根据历史数据进行选股；
6. 大模型的建议是基于大模型的，即建议根据大模型的建议进行选股；